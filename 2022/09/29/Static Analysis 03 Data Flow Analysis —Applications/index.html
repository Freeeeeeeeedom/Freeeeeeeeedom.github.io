<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Static Analysis 03 Data Flow Analysis —Applications | 投降输一半</title><meta name="keywords" content="软件分析,Data Flow Analysis"><meta name="author" content="胡小小小小睿"><meta name="copyright" content="胡小小小小睿"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Data Flow Analysis —Applications  Data Flow Analysis —Applications (I)  Preliminaries of Data Flow Analysis  Input and Output States  Each execution of an IR statement transforms an input state to a"><meta property="og:type" content="article"><meta property="og:title" content="Static Analysis 03 Data Flow Analysis —Applications"><meta property="og:url" content="http://little-hurui.cloud/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/index.html"><meta property="og:site_name" content="投降输一半"><meta property="og:description" content="Data Flow Analysis —Applications  Data Flow Analysis —Applications (I)  Preliminaries of Data Flow Analysis  Input and Output States  Each execution of an IR statement transforms an input state to a"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png"><meta property="article:published_time" content="2022-09-29T10:31:45.000Z"><meta property="article:modified_time" content="2022-12-15T12:04:28.385Z"><meta property="article:author" content="胡小小小小睿"><meta property="article:tag" content="软件分析"><meta property="article:tag" content="Data Flow Analysis"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png"><link rel="shortcut icon" href="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/1665644143784.jpeg"><link rel="canonical" href="http://little-hurui.cloud/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Static Analysis 03 Data Flow Analysis —Applications",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-12-15 20:04:28"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0!==o){const a=new Date;o=864e5*o,t={value:t,expiry:a.getTime()+o};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(!(o.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=a=>new Promise((t,e)=>{const o=document.createElement("script");o.src=a,o.async=!0,o.onerror=e,o.onload=o.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 6.1.0"><style>mjx-container[jax=SVG]{direction:ltr}mjx-container[jax=SVG]>svg{overflow:visible}mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=SVG][justify=left]{text-align:left}mjx-container[jax=SVG][justify=right]{text-align:right}g[data-mml-node=merror]>g{fill:red;stroke:red}g[data-mml-node=merror]>rect[data-background]{fill:#ff0;stroke:none}g[data-mml-node=mtable]>line[data-line]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>rect[data-frame]{stroke-width:70px;fill:none}g[data-mml-node=mtable]>.mjx-dashed{stroke-dasharray:140}g[data-mml-node=mtable]>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}g[data-mml-node=mtable]>svg{overflow:visible}[jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}[jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#f8f8f8;color:#000;box-shadow:2px 2px 5px #aaa}g[data-mml-node=maction][data-toggle]{cursor:pointer}mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#f8f8f8;color:#000}foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}.MathJax path{stroke-width:3}mjx-container[display=true]{overflow:auto hidden}mjx-container[display=true]+br{display:none}</style><link rel="alternate" href="/atom.xml" title="投降输一半" type="application/atom+xml"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/1665644143784.jpeg" onerror='onerror=null,src="https://s2.loli.net/2022/04/19/zHg7f51jDBVOcR2.jpg"' alt="avatar"></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">79</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">75</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa fa-bold"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">投降输一半</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/notes/"><i class="fa-fw fa fa-bold"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Static Analysis 03 Data Flow Analysis —Applications</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-29T10:31:45.000Z" title="发表于 2022-09-29 18:31:45">2022-09-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-12-15T12:04:28.385Z" title="更新于 2022-12-15 20:04:28">2022-12-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/">软件分析</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">791</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>4分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Static Analysis 03 Data Flow Analysis —Applications"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/" itemprop="commentCount"></span></a></span></div></div></div><article class="post-content" id="article-container"><h1 id="data-flow-analysis-applications"><a class="markdownIt-Anchor" href="#data-flow-analysis-applications"></a> Data Flow Analysis —Applications</h1><h1 id="data-flow-analysis-applications-i"><a class="markdownIt-Anchor" href="#data-flow-analysis-applications-i"></a> Data Flow Analysis —Applications (I)</h1><h2 id="preliminaries-of-data-flow-analysis"><a class="markdownIt-Anchor" href="#preliminaries-of-data-flow-analysis"></a> Preliminaries of Data Flow Analysis</h2><h3 id="input-and-output-states"><a class="markdownIt-Anchor" href="#input-and-output-states"></a> Input and Output States</h3><ul><li>Each execution of an IR statement transforms an input state to a new output state Input and Output States</li><li>The input (output) state is associated with the program point before (after) the statement</li></ul><p><img src="https://s2.loli.net/2022/09/29/79iWVAgQOMjTz4N.png" alt=""></p><ul><li>Data-flow analysis is to find a solution to a set of safe-approximation-directed constraints on the IN[s]’s and OUT[s]’s, for all statements s.<ul><li>constraints based on semantics of statements (transfer functions)</li><li>constraints based on the flows of control</li></ul></li></ul><h3 id="notations-for-transfer-function-s-constraints"><a class="markdownIt-Anchor" href="#notations-for-transfer-function-s-constraints"></a> Notations for Transfer Function’ s Constraints</h3><ul><li>Forward Analysis<ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>f</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">OUT[s] = f_s(IN[s])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></li></ul></li><li>Backward Analysis<ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>f</mi><mi>s</mi></msub><mo stretchy="false">(</mo><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">IN[s] = f_s(OUT[s])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span></li></ul></li></ul><p><img src="https://s2.loli.net/2022/09/29/JGfBIkoDNhsz3gU.png" alt=""></p><h3 id="notations-for-control-flow-s-constraints"><a class="markdownIt-Anchor" href="#notations-for-control-flow-s-constraints"></a> Notations for Control Flow’ s Constraints</h3><p><img src="https://s2.loli.net/2022/09/29/9nfyrGqv1RXktKp.png" alt=""></p><h1 id="i-reaching-definitions-analysis"><a class="markdownIt-Anchor" href="#i-reaching-definitions-analysis"></a> (I) Reaching Definitions Analysis</h1><h2 id="reaching-definitions"><a class="markdownIt-Anchor" href="#reaching-definitions"></a> Reaching Definitions</h2><blockquote><p>A <strong>definition</strong> d at program point p <strong>reaches</strong> a point q if there is a path from p to q such that d is not “killed” along that path</p></blockquote><ul><li>A <strong>definition of a variable</strong> v is a statement that assigns a value to v</li><li>Translated as: definition of variable v at program point p reaches point q if there is a path from p to q such that no new definition of v appears on that path</li></ul><p><img src="https://s2.loli.net/2022/09/29/GmpMZDk2oHiOvrY.png" alt=""></p><ul><li>Reaching definitions can be used to <strong>detect possible undefined variables.</strong></li></ul><h2 id="understanding-reaching-definitions"><a class="markdownIt-Anchor" href="#understanding-reaching-definitions"></a> Understanding Reaching Definitions</h2><ul><li>Data Flow Values/Facts<ul><li>The definitions of all the variables in a program</li><li>Can be represented by bit vectors</li></ul></li></ul><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20220929191400526.png" alt=""></p><p>This statement <strong>“generates” a definition D</strong> of variable v and <strong>“kills” all the other definitions</strong> in the program that define variable v, while leaving the remaining incoming definitions unaffected</p><ul><li><p>Transfer Function</p><ul><li><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><mi>g</mi><mi>e</mi><msub><mi>n</mi><mi>B</mi></msub><mo>∪</mo><mo stretchy="false">(</mo><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>−</mo><mi>k</mi><mi>i</mi><mi>l</mi><msub><mi>l</mi><mi>B</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">OUT[B] = gen_B \cup (IN[B] - kill_B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.75em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p><img src="https://s2.loli.net/2022/09/29/pgJ1thDR3GBwVn2.png" alt=""></p></li></ul></li><li><p>Control Flow</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∪</mo><mrow><mi>P</mi><mtext> </mtext><mi>a</mi><mtext> </mtext><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>o</mi><mi>r</mi><mtext> </mtext><mi>o</mi><mi>f</mi><mtext> </mtext><mi>B</mi></mrow></msub><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>P</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">IN[B] = \cup_{P \, a\, predecessor \,of \,B} OUT[P]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mbin">∪</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">P</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight">a</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mspace mtight" style="margin-right:.19516666666666668em"></span><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mclose">]</span></span></span></span></li></ul></li></ul><h2 id="algorithm-of-reaching-definitions-analysis"><a class="markdownIt-Anchor" href="#algorithm-of-reaching-definitions-analysis"></a> Algorithm of Reaching Definitions Analysis</h2><p><strong>INPUT:</strong> CFG(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mi>i</mi><mi>l</mi><msub><mi>l</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">kill_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.84444em;vertical-align:-.15em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>e</mi><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">gen_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> computed for each basic block B)</p><p><strong>OUTPUT:</strong> IN[B] and OUT[B] for each basic block B</p><p><strong>METHOD:</strong></p><p><img src="https://s2.loli.net/2022/09/29/RWvtYxhTpiF2aSD.png" alt=""></p><p><img src="https://s2.loli.net/2022/09/29/tQmSHnO4EagAkhs.png" alt=""></p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20220929222726509.png" alt=""></p><p><strong>Why this iterative algorithm can finally stop?</strong></p><p>Because <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>S</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">OUT[S]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05764em">S</span><span class="mclose">]</span></span></span></span> never shrinks</p><p><strong>Safe to terminate by this condition?</strong></p><p>IN’ S and OUT’ S will not change</p><p>Reach a <strong>fixed point</strong> Also related with <strong>monotonicity</strong> (next lectures)</p><h1 id="ii-live-variables-analysis"><a class="markdownIt-Anchor" href="#ii-live-variables-analysis"></a> (II) Live Variables Analysis</h1><blockquote><p>Live variables analysis tells whether the value of variable v at program point p could be used along some path in CFG starting at p. If so, v is live at p; otherwise, v is dead at p</p></blockquote><ul><li>Information of live variables can be used for register allocations.e.g., at some point all registers are full and we need to use one, then we should favor using a register with a dead value.</li></ul><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006171126427.png" alt=""></p><h2 id="understanding-live-variables-analysis"><a class="markdownIt-Anchor" href="#understanding-live-variables-analysis"></a> Understanding Live Variables Analysis</h2><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006171432194.png" alt=""></p><p><strong>Backword!</strong></p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006173323078.png" alt=""></p><h2 id="algorithm-of-live-variables-analysis"><a class="markdownIt-Anchor" href="#algorithm-of-live-variables-analysis"></a> Algorithm of Live Variables Analysis</h2><p>一般情况下 May analysisi 初始化为 empty， Must analysis 初始化为 All</p><p><strong>INPUT:</strong> CFG （<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>e</mi><msub><mi>f</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">def_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.10764em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mi>s</mi><msub><mi>e</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">use_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.58056em;vertical-align:-.15em"></span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> computed for each basic block B)</p><p><strong>OUTPUT:</strong> IN[B] and OUT[B] for each basic block B</p><p><strong>METHOD:</strong></p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006175017136.png" alt="Method"></p><p><strong>Example</strong></p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006180055356.png" alt="Example"></p><h1 id="iii-available-expressions-analysis"><a class="markdownIt-Anchor" href="#iii-available-expressions-analysis"></a> (III) Available Expressions Analysis</h1><blockquote><p>An expression x op y is available at program point p if (1) all paths from the entry to p must pass through the evaluation of x op y, and (2) after the last evaluation of x op y, there is no redefinition of x or y</p></blockquote><ul><li>This definition means at program p, we can replace expression x op y by the result of its last evaluation</li><li>The information of available expressions can be used for detecting global common subexpressions</li></ul><h2 id="abstraction"><a class="markdownIt-Anchor" href="#abstraction"></a> Abstraction</h2><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006181732494.png" alt=""></p><h2 id="safe-approximation"><a class="markdownIt-Anchor" href="#safe-approximation"></a> Safe-approximation</h2><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006183636366.png" alt=""></p><p>**What is available ** 可替换</p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006183751846.png" alt=""></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><mi>g</mi><mi>e</mi><msub><mi>n</mi><mi>B</mi></msub><mo>∪</mo><mo stretchy="false">(</mo><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>−</mo><mi>k</mi><mi>i</mi><mi>l</mi><msub><mi>l</mi><mi>B</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">OUT[B] = gen_B \cup (IN[B] - kill_B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.75em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>N</mi><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∩</mo><mrow><mi>P</mi><mtext>  </mtext><mi>a</mi><mtext>  </mtext><mi>p</mi><mi>r</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mi>o</mi><mi>r</mi><mtext>  </mtext><mi>o</mi><mi>f</mi><mtext>  </mtext><mi>B</mi></mrow></msub><mtext>  </mtext><mi>O</mi><mi>U</mi><mi>T</mi><mo stretchy="false">[</mo><mi>P</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">IN[B] = \cap _{P \; a \; prodecessor \; of \; B} \;OUT[P]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.07847em">I</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.05017em">B</span><span class="mclose">]</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-.286108em"></span><span class="mord"><span class="mbin">∩</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361079999999999em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:.13889em">P</span><span class="mspace mtight" style="margin-right:.3252777777777778em"></span><span class="mord mathdefault mtight">a</span><span class="mspace mtight" style="margin-right:.3252777777777778em"></span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:.02778em">r</span><span class="mspace mtight" style="margin-right:.3252777777777778em"></span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight" style="margin-right:.10764em">f</span><span class="mspace mtight" style="margin-right:.3252777777777778em"></span><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord mathdefault" style="margin-right:.02778em">O</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.13889em">T</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:.13889em">P</span><span class="mclose">]</span></span></span></span> <strong>All paths from entry to point p must pass through the evaluation of x op y</strong></p><blockquote><p>For safety of the analysis, it may report an expression as unavailable even if it is truly available (must analysis -&gt; under-approximation)</p></blockquote><h2 id="algorithm-of-available-expressions-analysis"><a class="markdownIt-Anchor" href="#algorithm-of-available-expressions-analysis"></a> Algorithm of Available Expressions Analysis</h2><p>**INPUT: ** CFG (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align:-.339ex" xmlns="http://www.w3.org/2000/svg" width="4.71ex" height="1.91ex" role="img" focusable="false" viewBox="0 -694 2081.7 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mi" transform="translate(521,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(866,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="msub" transform="translate(1164,0)"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(331,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g></g></g></svg></mjx-container>and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>e</mi><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding="application/x-tex">gen_B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="mord mathdefault">e</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.32833099999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:.05017em">B</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> computed for each basic block B)</p><p>**OUTPUT: ** IN[B] and OUT[B] for each basic block B</p><p>**METHOD:	**</p><p>​	<img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006184454247.png" alt="Method"></p><p><img src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221006185049297.png" alt="Final Result"></p><h1 id="analysis-comparison"><a class="markdownIt-Anchor" href="#analysis-comparison"></a> Analysis Comparison</h1><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">Reaching Definitions</th><th style="text-align:center">Live Variables</th><th style="text-align:center">Available Expressions</th></tr></thead><tbody><tr><td style="text-align:center">Domain</td><td style="text-align:center">Set of definitions</td><td style="text-align:center">Set of variables</td><td style="text-align:center">Set of expressions</td></tr><tr><td style="text-align:center">Direction</td><td style="text-align:center">Forwards</td><td style="text-align:center">Backwards</td><td style="text-align:center">Forwards</td></tr><tr><td style="text-align:center">May/Must</td><td style="text-align:center">May</td><td style="text-align:center">May</td><td style="text-align:center">Must</td></tr><tr><td style="text-align:center">Boundary</td><td style="text-align:center">OUT[entry] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.80556em;vertical-align:-.05556em"></span><span class="mord">∅</span></span></span></span></td><td style="text-align:center">IN[exit] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.80556em;vertical-align:-.05556em"></span><span class="mord">∅</span></span></span></span></td><td style="text-align:center">OUT[entry] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.80556em;vertical-align:-.05556em"></span><span class="mord">∅</span></span></span></span></td></tr><tr><td style="text-align:center">Initialization</td><td style="text-align:center">OUT[B] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.80556em;vertical-align:-.05556em"></span><span class="mord">∅</span></span></span></span></td><td style="text-align:center">IN[B] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.80556em;vertical-align:-.05556em"></span><span class="mord">∅</span></span></span></span></td><td style="text-align:center">OUT[B] = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span></td></tr><tr><td style="text-align:center">Transfer function</td><td style="text-align:center"><strong>OUT =</strong></td><td style="text-align:center">**gen <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span> **</td><td style="text-align:center"><strong>(IN - kill)</strong></td></tr><tr><td style="text-align:center">Meet</td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∪</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∩</mo></mrow><annotation encoding="application/x-tex">\cap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.55556em;vertical-align:0"></span><span class="mord">∩</span></span></span></span></td></tr></tbody></table></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">胡小小小小睿</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://little-hurui.cloud/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/">http://little-hurui.cloud/2022/09/29/Static%20Analysis%2003%20Data%20Flow%20Analysis%20%E2%80%94Applications/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://little-hurui.cloud" target="_blank">投降输一半</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%BD%AF%E4%BB%B6%E5%88%86%E6%9E%90/">软件分析</a><a class="post-meta__tags" href="/tags/Data-Flow-Analysis/">Data Flow Analysis</a></div><div class="post_share"><div class="social-share" data-image="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://s2.loli.net/2022/04/19/RFQ7a3WzipEBlS2.jpg" target="_blank"><img class="post-qr-code-img" src="https://s2.loli.net/2022/04/19/RFQ7a3WzipEBlS2.jpg" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://s2.loli.net/2022/04/19/faP7b2XxJlQqVrp.jpg" target="_blank"><img class="post-qr-code-img" src="https://s2.loli.net/2022/04/19/faP7b2XxJlQqVrp.jpg" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/10/04/Concurrency%20Algorithms%20and%20Theories%2004%20Declarative%20semantics%20for%20concurrency/"><img class="prev-cover" src="https://s2.loli.net/2022/04/21/xho7LGY1rNv39le.jpg" onerror='onerror=null,src="https://s2.loli.net/2022/04/19/zHg7f51jDBVOcR2.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Concurrency Algorithms and Theories 04 Declarative semantics for concurrency</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/29/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C/"><img class="next-cover" src="https://s2.loli.net/2022/04/21/xho7LGY1rNv39le.jpg" onerror='onerror=null,src="https://s2.loli.net/2022/04/19/zHg7f51jDBVOcR2.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">字符串哈希</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/10/13/Static%20Analysis%2004%20Data%20Flow%20Analysis%20%E2%80%94%20Foundations/" title="Static Analysis 04 Data Flow Analysis — Foundations"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-13</div><div class="title">Static Analysis 04 Data Flow Analysis — Foundations</div></div></a></div><div><a href="/2022/12/13/Static%20Analysis%2009%20Static%20Analysis%20for%20Security/" title="Static Analysis 09 Static Analysis for Security"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-13</div><div class="title">Static Analysis 09 Static Analysis for Security</div></div></a></div><div><a href="/2022/11/03/Static%20Analysis%2006%20Pointer%20Analysis/" title="Static Analysis 06 Pointer Analysis"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-03</div><div class="title">Static Analysis 06 Pointer Analysis</div></div></a></div><div><a href="/2022/11/03/Static%20Analysis%2007%20Pointer%20Analysis%20Foundations/" title="Static Analysis 07 Pointer Analysis Foundations"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-03</div><div class="title">Static Analysis 07 Pointer Analysis Foundations</div></div></a></div><div><a href="/2022/11/24/Static%20Analysis%2008%20Pointer%20Analysis%20Context%20Sensitivity/" title="Static Analysis 08 Pointer Analysis Context Sensitivity"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-24</div><div class="title">Static Analysis 08 Pointer Analysis Context Sensitivity</div></div></a></div><div><a href="/2022/10/27/Static%20Analysis%2005%20Interprocedural%20Analysis/" title="Static Analysis 05 Interprocedural Analysis"><img class="cover" src="https://hurry11.oss-cn-nanjing.aliyuncs.com/img/image-20221215200223072.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-27</div><div class="title">Static Analysis 05 Interprocedural Analysis</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#data-flow-analysis-applications"><span class="toc-text">Data Flow Analysis —Applications</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#data-flow-analysis-applications-i"><span class="toc-text">Data Flow Analysis —Applications (I)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#preliminaries-of-data-flow-analysis"><span class="toc-text">Preliminaries of Data Flow Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#input-and-output-states"><span class="toc-text">Input and Output States</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#notations-for-transfer-function-s-constraints"><span class="toc-text">Notations for Transfer Function’ s Constraints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#notations-for-control-flow-s-constraints"><span class="toc-text">Notations for Control Flow’ s Constraints</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#i-reaching-definitions-analysis"><span class="toc-text">(I) Reaching Definitions Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#reaching-definitions"><span class="toc-text">Reaching Definitions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#understanding-reaching-definitions"><span class="toc-text">Understanding Reaching Definitions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#algorithm-of-reaching-definitions-analysis"><span class="toc-text">Algorithm of Reaching Definitions Analysis</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ii-live-variables-analysis"><span class="toc-text">(II) Live Variables Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#understanding-live-variables-analysis"><span class="toc-text">Understanding Live Variables Analysis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#algorithm-of-live-variables-analysis"><span class="toc-text">Algorithm of Live Variables Analysis</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#iii-available-expressions-analysis"><span class="toc-text">(III) Available Expressions Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#abstraction"><span class="toc-text">Abstraction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#safe-approximation"><span class="toc-text">Safe-approximation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#algorithm-of-available-expressions-analysis"><span class="toc-text">Algorithm of Available Expressions Analysis</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#analysis-comparison"><span class="toc-text">Analysis Comparison</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 胡小小小小睿</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"},chtml:{scale:1.2},options:{renderActions:{findScript:[10,t=>{for(const a of document.querySelectorAll('script[type^="math/tex"]')){var e=!!a.type.match(/; *mode=display/);const n=new t.options.MathItem(a.textContent,t.inputJax[0],e);e=document.createTextNode("");a.parentNode.replaceChild(e,a),n.start={node:e,delim:"",n:0},n.end={node:e,delim:"",n:0},t.math.push(n)}},""],insertScript:[200,()=>{document.querySelectorAll("mjx-container:not([display])").forEach(t=>{const e=t.parentNode;("li"===e.nodeName.toLowerCase()?e.parentNode:e).classList.add("has-jax")})},"",!1]}}};const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",a.id="MathJax-script",a.async=!0,document.head.appendChild(a)}</script><script>function loadValine(){function n(){new Valine(Object.assign({el:"#vcomment",appId:"mhyGN57MG6G9YJ3rtTn90n4c-gzGzoHsz",appKey:"D3FU0mepwLhB8BK48kSAaOLx",avatar:"monsterid",serverURLs:"",emojiMaps:"",path:window.location.pathname,visitor:!0},null))}"function"==typeof Valine?n():getScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js").then(n)}function loadOtherComment(){loadValine()}setTimeout(loadValine,0)</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>